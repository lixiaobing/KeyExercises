{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "\r\nvar Const = require(\"Const\")\r\n//\r\nvar STATE = { NORMAR:1,DANGER:2};\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        letterLabel: {\r\n            default: null,\r\n            type: cc.Label\r\n        },\r\n    },\r\n    onLoad: function () {\r\n        this.letKeyCode = -1;\r\n        this.level      = 1;\r\n        this.speed      = 1;\r\n        this.enable     = true;\r\n        this.bullet     = null;\r\n    },\r\n    getLetter:function(keyCode) \r\n    {\r\n        return Const.keyMap[keyCode];\r\n    },\r\n    init:function(keyCode,level,game) {\r\n        //console.log(\"keyCode=======:\",keyCode);\r\n        this.game       = game ;\r\n        this.letKeyCode = keyCode;\r\n        this.level      = level;\r\n        this.enable     = true;\r\n        this.letterLabel.string = this.getLetter(this.letKeyCode);\r\n        this.speed      = Const.letSpeeds[this.level-1];\r\n        this.state      = STATE.NORMAR;\r\n    },\r\n    destroyPick: function() {\r\n        this.game.addScore(this.level);\r\n        this.node.destroy();\r\n    },\r\n    destroyLose: function() {\r\n        this.node.destroy();\r\n    },\r\n    \r\n    doPickAction: function() {\r\n        var scale = cc.scaleTo(0.05, 2);\r\n        var callback = cc.callFunc(this.destroyPick, this);\r\n        this.node.runAction(cc.sequence(scale, callback));\r\n        this.enable = false;\r\n        this.game.removeLetter(this);\r\n        this.destoryBullet()\r\n    },\r\n    doLoseAction: function() {\r\n        var scale = cc.scaleTo(0.05, 0.1);\r\n        var callback = cc.callFunc(this.destroyLose, this);\r\n        this.node.runAction(cc.sequence(scale, callback));\r\n        this.enable = false;\r\n        this.game.removeLetter(this);\r\n        this.destoryBullet()\r\n    },  \r\n    isPick: function(keyCode) {\r\n        if (this.bullet !== null)\r\n        {\r\n            return false;\r\n        }\r\n        return this.letKeyCode == keyCode;\r\n    },\r\n    setLock:function(bullet) //被子弹锁定\r\n    {\r\n        this.bullet = bullet;\r\n    },\r\n    destoryBullet:function()\r\n    {\r\n        if (this.bullet !== null)\r\n        {\r\n            this.bullet.destory();\r\n            this.bullet = null;\r\n        }\r\n    },\r\n    setState:function(state)\r\n    {\r\n       if (this.state !== state)\r\n       {\r\n           switch(state)\r\n           {\r\n                case STATE.NORMAR:\r\n                   break;\r\n                case STATE.DANGER:\r\n                    this.node.runAction(cc.blink(2, 10));\r\n                   break;\r\n           }\r\n           this.state = state;\r\n       }\r\n    },\r\n    checkDangerous:function()\r\n    {\r\n        if (this.state === STATE.NORMAR)\r\n        {\r\n            if (this.node.y < -200 )\r\n            {\r\n                this.setState(STATE.DANGER);\r\n            }\r\n        }\r\n    },\r\n    hitTest:function(position)\r\n    {\r\n        if (this.bullet !== null)\r\n        {\r\n            return false;\r\n        }\r\n        var dis = cc.pDistance(position,this.node.getPosition());\r\n        return dis <= 40.0;\r\n    }\r\n    ,\r\n    update: function (dt) {\r\n        if (this.enable === true)\r\n        { \r\n            // console.log(\"this letKeyCode:\" + this.letKeyCode +\"  keyCode:\"+this.game.keyCode);\r\n            this.node.y = this.node.y - this.speed ;\r\n            if (this.node.y < -320)\r\n            {\r\n                this.doLoseAction();\r\n                return ;\r\n            }\r\n            this.checkDangerous();\r\n            if (this.bullet !== null)\r\n            {\r\n                if (this.bullet.follow(this.node))\r\n                {\r\n                    this.doPickAction()\r\n                }\r\n            }\r\n        }\r\n    }\r\n});\r\n"
  ]
}